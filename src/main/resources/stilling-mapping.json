{
  "date_detection": false,

  "properties": {
    "stillingsinfo": {
      "properties": {
        "eierNavident": { "type": "keyword" },
        "eierNavn": { "type": "text" },
        "notat": {
          "type": "text",
          "copy_to": "stillingsinfo.notat_no"
        },
        "notat_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "stillingsid": { "type": "keyword" },
        "stillingsinfoid": { "type": "keyword" }
      }
    },

    "stilling": {
      "properties": {
        "uuid": { "type": "keyword" },
        "uuid2": { "type": "keyword" },
        "updated": {
          "type": "date",
          "format": "strict_date_optional_time"
        },
        "created": {
          "type": "date",
          "format": "strict_date_optional_time"
        },
        "published": {
          "type": "date",
          "format": "strict_date_optional_time"
        },
        "publishedByAdmin": {
          "type": "date",
          "format": "strict_date_optional_time"
        },
        "expires": {
          "type": "date",
          "format": "strict_date_optional_time"
        },
        "status": { "type": "keyword" },
        "privacy": { "type": "keyword" },
        "source": { "type": "keyword" },
        "reference": { "type": "keyword" },
        "medium": { "type": "keyword" },
        "title": {
          "type": "text",
          "copy_to": "stilling.title_no"
        },
        "title_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "businessName": {
          "type": "text",
          "copy_to": "stilling.employername"
        },
        "employername": {
          "type": "text",
          "position_increment_gap": 100
        },
        "adtext_no": {
          "type": "text",
          "analyzer": "norwegian_html"
        },
        "employerdescription_no": {
          "type": "text",
          "analyzer": "norwegian_html"
        },
        "geography_all_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "engagementtype_facet": {
          "type": "keyword"
        },
        "extent_facet": {
          "type": "keyword"
        },
        "county_facet": {
          "type": "keyword"
        },
        "country_facet": {
          "type": "keyword"
        },
        "municipal_facet": {
          "type": "keyword"
        },
        "city_facet": {
          "type": "keyword"
        },
        "geopoint": {
          "type": "geo_point"
        },
        "category_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "category_description_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "category_suggest": {
          "type": "completion",
          "contexts": [
            {
              "name": "status",
              "type": "category",
              "path": "status"
            }
          ]
        },
        "category_styrk08_facet": {
          "type": "keyword"
        },
        "searchtags_no": {
          "type": "text",
          "analyzer": "norwegian"
        },
        "searchtags_facet": {
          "type": "keyword"
        },
        "occupationList": {
          "type": "nested",
          "properties": {
            "level1": {
              "type": "keyword",
              "copy_to": ["stilling.category_suggest", "stilling.category_no"]
            },
            "level2": {
              "type": "keyword",
              "copy_to": ["stilling.category_suggest", "stilling.category_no"]
            }
          }
        },
        "locationList": {
          "type": "nested",
          "properties": {
            "address": {
              "type": "text"
            },
            "country": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword"
                }
              },
              "copy_to": ["stilling.country_facet", "stilling.geography_all_no"]
            },
            "county": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword"
                }
              },
              "copy_to": ["stilling.county_facet", "stilling.geography_all_no"]
            },
            "municipal": {
              "type": "text",
              "fields": {
                "keyword": {
                  "type": "keyword"
                }
              },
              "copy_to": ["stilling.municipal_facet", "stilling.geography_all_no"]
            },
            "postalCode": {
              "type": "keyword"
            },
            "latitude": {
              "type": "keyword",
              "index": false,
              "doc_values": false
            },
            "longitude": {
              "type": "keyword",
              "index": false,
              "doc_values": false
            }
          }
        },
        "categoryList": {
          "properties": {
            "styrkCode": {
              "type": "keyword"
            },
            "name": {
              "type": "text",
              "copy_to": [
                "stilling.category_styrk08_facet",
                "stilling.category_no",
                "stilling.category_suggest"
              ]
            }
          }
        },
        "employer": {
          "properties": {
            "name": {
              "type": "text",
              "copy_to": "stilling.employername"
            },
            "orgnr": {
              "type": "keyword"
            },
            "parentOrgnr": {
              "type": "keyword"
            },
            "publicName": {
              "type": "text"
            },
            "orgform": {
              "type": "keyword"
            }
          }
        },
        "properties": {
          "properties": {
            "adtext": {
              "type": "text",
              "index": false,
              "copy_to": "stilling.adtext_no"
            },
            "employerdescription": {
              "type": "text",
              "index": false,
              "copy_to": "stilling.employerdescription_no"
            },
            "duration": {
              "type": "keyword"
            },
            "sourceurl": {
              "type": "keyword"
            },
            "sourcecreated": {
              "type": "keyword"
            },
            "sourceupdated": {
              "type": "keyword"
            },
            "author": {
              "type": "keyword"
            },
            "employer": {
              "type": "text",
              "copy_to": "stilling.employername"
            },
            "industry": {
              "type": "text"
            },
            "jobtitle": {
              "type": "text",
              "copy_to": "stilling.searchtags_no"
            },
            "location": {
              "type": "text",
              "copy_to": "stilling.geography_all_no"
            },
            "starttime": {
              "type": "text"
            },
            "applicationdue": {
              "type": "keyword"
            },
            "extent": {
              "type": "keyword",
              "copy_to": "stilling.extent_facet"
            },
            "engagementtype": {
              "type": "keyword",
              "copy_to": "stilling.engagementtype_facet"
            },
            "positioncount": {
              "type": "integer",
              "ignore_malformed": true
            },
            "searchtags": {
              "properties": {
                "label": {
                  "type": "text",
                  "copy_to": [
                    "stilling.searchtags_no",
                    "stilling.searchtags_facet"
                  ]
                },
                "score": {
                  "type": "float"
                }
              }
            },
            "classification_styrk08_score": {
              "type": "float"
            },
            "classification_input_source": {
              "type": "keyword"
            }
          }
        }
      }
    }
  }
}
